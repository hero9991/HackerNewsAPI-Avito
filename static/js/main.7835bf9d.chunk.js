(this["webpackJsonpapp.js"]=this["webpackJsonpapp.js"]||[]).push([[0],{13:function(e,t,n){e.exports={top:"News_top__1sbA7",button:"News_button__1haJm",disabled_button:"News_disabled_button__37m_m",text__wrapper:"News_text__wrapper__3XLnS",link:"News_link__SrwTZ",count:"News_count__2U7_A",author:"News_author__36A-G",data:"News_data__3r4H4",title:"News_title__3zIRZ"}},14:function(e,t,n){e.exports={wrapper:"Comments_wrapper__3hjhU",comments:"Comments_comments__1jzq9",comment__items:"Comments_comment__items__1KBhp",comment__initial:"Comments_comment__initial__3d-wZ",low:"Comments_low__1Ip3w",clicked:"Comments_clicked__3WErX",author:"Comments_author__2u9RH",top:"Comments_top__XxDRG",title:"Comments_title__1nmJe"}},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var s=n(59).default.create({baseURL:"https://hacker-news.firebaseio.com/v0/"}),r={getItem:function(e){return s.get("/item/".concat(e,".json?print=pretty"))},getUsers:function(e){return s.get("user/".concat(e,".json?print=pretty"))},getIdsOfNewStories:function(){return s.get("newstories.json?print=pretty")}}},20:function(e,t,n){"use strict";n.r(t),n.d(t,"reloadItems",(function(){return h})),n.d(t,"requestItems",(function(){return O})),n.d(t,"requestMainKids",(function(){return w})),n.d(t,"requestKids",(function(){return x})),n.d(t,"requestAllKids",(function(){return g})),n.d(t,"setEmptyChildrens",(function(){return v}));var s=n(3),r=n.n(s),a=n(6),i=n(16),c=n(4),o=n(17),u="NEWS-REDUCER/SET_ITEMS",d="NEWS_REDUCER/TOGGLE_PRELOADER",l="NEWS_REDUCER/TOGGLE_DISABLE",_="NEWS_REDUCER/ADD_KID",m={items:[],isPreloaded:!0,isDisabled:!0},f=function(e,t){return{type:_,chunk:e,id:t}},b=function(e){return{type:d,isPreloaded:e}},j=function(e){return{type:l,isDisabled:e}},p=[],h=function e(t){return function(){var n=Object(a.a)(r.a.mark((function n(s){var a,i;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(j(!0)),n.next=3,o.a.getItem(t);case 3:if(a=n.sent,p.push(a.data),!a.data||!a.data.kids){n.next=13;break}i=0;case 7:if(!(i<a.data.kids.length)){n.next=13;break}return n.next=10,s(e(a.data.kids[i]));case 10:i++,n.next=7;break;case 13:s(j(!1));case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(a.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,n(h(e));case 3:n({type:u,item:p}),p=[],n(b(!1));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(e,t){return function(){var t=Object(a.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(b(!0)),t.next=4,n(O(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e,t){return function(){var n=Object(a.a)(r.a.mark((function n(s){var a,i,c,u;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=[],n.next=4,o.a.getItem(e);case 4:if((i=n.sent).data&&i.data.kids){for(c=function(e){t.forEach((function(t){return t.id===i.data.kids[e]&&a.push(t)}))},u=0;u<i.data.kids.length;u++)c(u);s(f(a,e))}case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},g=function(e,t){return function(){var n=Object(a.a)(r.a.mark((function n(s){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,s(O(e));case 3:return n.next=5,s(x(e,t));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},v=function(e){return function(t){t(f([],e))}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(c.a)(Object(c.a)({},e),{},{items:Object(i.a)(t.item)});case _:return Object(c.a)(Object(c.a)({},e),{},{items:e.items.map((function(e){return e.id===+t.id?Object(c.a)(Object(c.a)({},e),{},{childrens:Object(i.a)(t.chunk)}):e}))});case d:return Object(c.a)(Object(c.a)({},e),{},{isPreloaded:t.isPreloaded});case l:return Object(c.a)(Object(c.a)({},e),{},{isDisabled:t.isDisabled});default:return e}}},23:function(e,t,n){"use strict";n.r(t),n.d(t,"requestIds",(function(){return h})),n.d(t,"requestStories",(function(){return w})),n.d(t,"reloadStories",(function(){return x}));var s=n(3),r=n.n(s),a=n(6),i=n(16),c=n(4),o=n(17),u="MAIN-REDUCER/SET_IDS",d="MAIN-REDUCER/SET_STORIES",l="MAIN-REDUCER/TOGGLE_PRELOADER",_="MAIN-REDUCER/TOGGLE_PRELOADER_BOTTOM",m="MAIN_REDUCER?TOGGLE_DISABLE",f={idsOfNewStories:[],stories:[],isPreloaded:!0,isPreloadedBottom:!0,isDisabled:!0},b=function(e){return{type:l,isPreloaded:e}},j=function(e){return{type:_,isPreloadedBottom:e}},p=function(e){return{type:m,isDisabled:e}},h=function(){return function(){var e=Object(a.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.getIdsOfNewStories();case 2:n=e.sent,t((s=n.data,{type:u,ids:s}));case 4:case"end":return e.stop()}var s}),e)})));return function(t){return e.apply(this,arguments)}}()},O=function(){var e=Object(a.a)(r.a.mark((function e(t,n,s,a){var i,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(p(!0)),i=0,c=[],e.next=5,n(h());case 5:if(!(i<100)){e.next=14;break}return e.next=8,s.getItem(t[i]);case 8:o=e.sent,c.push(o.data),c.length%a===0&&(n({type:d,stories:c}),10===a&&n(b(!1)),c=[]),i++,e.next=5;break;case 14:n(p(!1)),n(j(!1));case 16:case"end":return e.stop()}}),e)})));return function(t,n,s,r){return e.apply(this,arguments)}}(),w=function(e){return function(){var t=Object(a.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(b(!0)),n(j(!0)),O(e,n,o.a,10);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e){return function(){var t=Object(a.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:O(e,n,o.a,100);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return Object(c.a)(Object(c.a)({},e),{},{idsOfNewStories:Object(i.a)(t.ids)});case d:return Object(c.a)(Object(c.a)({},e),{},{stories:e.stories.length<100?[].concat(Object(i.a)(e.stories),Object(i.a)(t.stories)):Object(i.a)(t.stories)});case l:return Object(c.a)(Object(c.a)({},e),{},{isPreloaded:t.isPreloaded});case _:return Object(c.a)(Object(c.a)({},e),{},{isPreloadedBottom:t.isPreloadedBottom});case m:return Object(c.a)(Object(c.a)({},e),{},{isDisabled:t.isDisabled});default:return e}}},51:function(e,t,n){},52:function(e,t,n){},7:function(e,t,n){e.exports={news__item:"Main_news__item__30HsQ",news__bottom:"Main_news__bottom__2ipM5",news__text:"Main_news__text__2gMMe",news__title:"Main_news__title__1Z9Ma",news__author:"Main_news__author__3QNed",news__time:"Main_news__time__13o1x",news__score:"Main_news__score__22HrM",news__scoreN:"Main_news__scoreN__1Yv9E",news__scoreL:"Main_news__scoreL__13uys",button:"Main_button__2eW8g",disabled_button:"Main_disabled_button__2IQF3",preloader__bottom:"Main_preloader__bottom__2-KZ9"}},77:function(e,t,n){"use strict";n.r(t);var s=n(1),r=n(0),a=n.n(r),i=n(25),c=n.n(i),o=(n(51),n(52),n(5)),u=n(7),d=n.n(u),l=n(15),_=function(e){var t=new Date(1e3*e);return t.getDate()+"/"+t.getMonth()+"/"+t.getFullYear()+"  "+(1===t.getHours().toString().length?"0"+t.getHours():t.getHours())+":"+(1===t.getMinutes().toString().length?"0"+t.getMinutes():t.getMinutes())},m=function(e){var t=+new Date-1e3*e,n=new Date(t),s=n.getFullYear()-1970,r=n.getMonth(),a=n.getDate()-1,i=n.getHours()-3,c=n.getMinutes(),o=n.getSeconds();return s&&"".concat(s,1===s?" year ago":" years ago")||r&&"".concat(r,1===r?" month ago":" months ago")||a&&"".concat(a,1===a?" day ago":" days ago")||i&&"".concat(i,1===i?" hour ago":" hours ago")||c&&"".concat(c,1===c?" minute ago":" minutes ago")||o&&"".concat(o,1===o?" second ago":" seconds ago")},f=n.p+"static/media/preloader1.7f686c03.gif",b=function(e){var t=e.stories,n=e.reloadStories,r=e.idsOfNewStories,a=e.isDisabled,i=e.isPreloadedBottom;return t.length<1?null:Object(s.jsxs)("div",{className:d.a.main,children:[Object(s.jsx)("button",{className:d.a.button+" "+(a&&d.a.disabled_button),disabled:a,onClick:function(){return n(r)},children:a?"\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442\u0441\u044f...":"\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"}),Object(s.jsx)("div",{className:d.a.news__items,children:t.map((function(e){return e?Object(s.jsxs)(l.b,{className:d.a.news__item,to:e?"/News/".concat(e.id):"/News",children:[Object(s.jsxs)("div",{className:d.a.news__text,children:[Object(s.jsx)("div",{className:d.a.news__title,children:e.title}),Object(s.jsxs)("div",{className:d.a.news__bottom,children:[Object(s.jsx)("div",{className:d.a.news__time,children:_(e.time)}),Object(s.jsxs)("div",{className:d.a.news__author,children:["author: ",Object(s.jsx)("span",{children:e.by})]})]})]}),Object(s.jsxs)("div",{className:d.a.news__score,children:[Object(s.jsx)("span",{className:d.a.news__scoreN,children:e.score}),Object(s.jsx)("span",{className:d.a.news__scoreL,children:"score"})]})]},e.id):null}))}),i&&Object(s.jsx)("img",{className:d.a.preloader__bottom,src:f,alt:""})]})},j=n(19),p=n(23),h=function(e){return e.mainPage.idsOfNewStories},O=function(e){return e.mainPage.stories},w=function(e){return e.mainPage.isPreloaded},x=function(e){return e.mainPage.isPreloadedBottom},g=function(e){return e.mainPage.isDisabled},v=n.p+"static/media/preloader.3ff84aac.gif",N=Object(j.b)((function(e){return{idsOfNewStories:h(e),stories:O(e),isPreloaded:w(e),isDisabled:g(e),isPreloadedBottom:x(e)}}),{requestIds:p.requestIds,requestStories:p.requestStories,reloadStories:p.reloadStories})((function(e){var t=e.requestIds,n=e.requestStories,a=e.reloadStories,i=e.idsOfNewStories,c=e.stories,o=e.isPreloaded,u=e.isDisabled,d=e.isPreloadedBottom;return Object(r.useEffect)((function(){0===i.length&&t(),i.length>100&&0===c.length&&n(i),c.length>0&&a(i)}),[t,n,i.length]),Object(r.useEffect)((function(){var e=setInterval((function(){i.length>100&&a(i)}),6e4);return function(){return clearInterval(e)}}),[i.length]),o?Object(s.jsx)("img",{className:"preloader",src:v,alt:""}):Object(s.jsx)(b,{stories:c,reloadStories:a,idsOfNewStories:i,isDisabled:u,isPreloadedBottom:d})})),E=n(3),k=n.n(E),D=n(4),C=n(6),S=n(44),y=n(45),P=n(13),M=n.n(P),I=n(14),R=n.n(I),q=function e(t){var n=t.comments,r=t.addChildrens,a=t.items,i=t.isClicked;return n.slice().sort((function(e,t){return t.time-e.time})).map((function(t){return Object(s.jsxs)("div",{className:R.a.comments,children:[Object(s.jsxs)("div",{className:R.a.top,children:[Object(s.jsx)("span",{className:R.a.author,children:t.by}),Object(s.jsx)("span",{className:R.a.time,children:m(t.time)})]}),Object(s.jsx)("div",{className:(t.kids&&R.a.comment__items)+" "+(t.parent===a[0].id?R.a.comment__initial:R.a.low)+" "+(i[t.id]&&t.kids?R.a.clicked:R.a.notClicked),disabled:!0,onClick:function(){r(t.id,a)},dangerouslySetInnerHTML:{__html:t.text?t.text:"COMMENT DELETED"}},t.id),a.map((function(n){if(n.id===t.id&&n.childrens)return Object(s.jsx)(e,{addChildrens:r,items:a,comments:n.childrens,isClicked:i},n.id)}))]},t.id)}))},A=function(e){var t=e.items,n=e.isPreloaded,r=e.isClicked,a=e.addChildrens;return!n&&t[0]&&t[0].kids&&t[0].childrens?Object(s.jsxs)("div",{className:R.a.wrapper,children:[Object(s.jsx)("div",{className:R.a.title,children:Object(s.jsx)("h1",{children:"Comments"})}),Object(s.jsx)(q,{addChildrens:a,items:t,comments:t[0].childrens,isClicked:r})]}):null},L=function(e){var t=e.items,n=e.isPreloaded,r=e.isDisabled,a=e.idOfStory,i=e.requestAllKids,c=e.isClicked,o=e.addChildrens,u=e.setIsClicked;return t.length<1?null:Object(s.jsxs)("div",{className:M.a.news,children:[Object(s.jsx)("div",{className:M.a.top,children:Object(s.jsxs)("div",{className:M.a.text__wrapper,children:[Object(s.jsx)("button",{disabled:r,className:M.a.button+" "+(r&&M.a.disabled_button),onClick:Object(C.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(a,t);case 2:u({});case 3:case"end":return e.stop()}}),e)}))),children:r?"\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442\u0441\u044f...":"\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"}),Object(s.jsx)("span",{className:M.a.link,children:Object(s.jsx)(l.b,{to:"/Main",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u043d\u043e\u0432\u043e\u0441\u0442\u0435\u0439"})}),Object(s.jsx)("span",{className:M.a.link,children:t[0]&&Object(s.jsx)("a",{href:t[0].url,children:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043d\u043e\u0432\u043e\u0441\u0442\u044c"})}),t.length>0&&(t[0].title?Object(s.jsxs)("span",{children:["\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435: ",Object(s.jsx)("span",{className:M.a.title,children:t[0].title})," "]}):Object(s.jsx)("span",{children:"DELETED"})),t.length>0&&Object(s.jsxs)("span",{children:["\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438: ",Object(s.jsx)("span",{className:M.a.data,children:_(t[0].time)})]}),t.length>0&&(t[0].by?Object(s.jsxs)("span",{children:["\u0410\u0432\u0442\u043e\u0440: ",Object(s.jsx)("span",{className:M.a.author,children:t[0].by})]}):Object(s.jsx)("span",{children:"DELETED"})),t.length>0&&Object(s.jsxs)("span",{children:["\u041a\u043e\u043b\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432: ",Object(s.jsx)("span",{className:M.a.count,children:t.length-1})]})]})}),Object(s.jsx)(A,{items:t,isPreloaded:n,addChildrens:o,isClicked:c})]})},K=n(20),T=function(e){return e.newsPage.items},B=function(e){return e.newsPage.isPreloaded},U=function(e){return e.newsPage.isDisabled},G=n(21),H=Object(G.compose)(Object(j.b)((function(e){return{items:T(e),isPreloaded:B(e),isDisabled:U(e)}}),{requestMainKids:K.requestMainKids,setEmptyChildrens:K.setEmptyChildrens,requestKids:K.requestKids,requestAllKids:K.requestAllKids}),o.e)((function(e){var t=e.requestMainKids,n=e.setEmptyChildrens,a=e.items,i=e.isPreloaded,c=e.isDisabled,o=e.requestKids,u=e.requestAllKids,d=Object(y.a)(e,["requestMainKids","setEmptyChildrens","items","isPreloaded","isDisabled","requestKids","requestAllKids"]),l=Object(r.useState)({}),_=Object(S.a)(l,2),m=_[0],f=_[1],b=function(){var e=Object(C.a)(k.a.mark((function e(t,s){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},!m[t]){e.next=7;break}n(t),r[t]=!1,f(Object(D.a)(Object(D.a)({},m),r)),e.next=11;break;case 7:return e.next=9,o(t,s);case 9:r[t]=!0,f(Object(D.a)(Object(D.a)({},m),r));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){t(d.match.params.id,a)}),[]),Object(r.useEffect)((function(){var e=setInterval(Object(C.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(d.match.params.id,a);case 2:f({});case 3:case"end":return e.stop()}}),e)}))),6e6);return function(){return clearInterval(e)}}),[a.length]),Object(r.useEffect)((function(){0!==a.length&&o(d.match.params.id,a)}),[a.length,a.length&&a[0].childrens&&a[0].childrens.length,d.match.params.id]),i?Object(s.jsx)("img",{className:"preloader",src:v,alt:""}):Object(s.jsx)(L,{items:a,isPreloaded:i,idOfStory:d.match.params.id,isDisabled:c,requestAllKids:u,addChildrens:b,isClicked:m,setIsClicked:f})}));var F=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(o.a,{path:"/Main",render:function(){return Object(s.jsx)(N,{})}}),Object(s.jsx)(o.a,{path:"/News/:id?",render:function(){return Object(s.jsx)(H,{})}})]})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),r(e),a(e),i(e)}))},Z=n(43),J=n(21),Q=J.combineReducers,X=J.createStore,Y=J.applyMiddleware,z=X(Q({mainPage:n(23).default,newsPage:n(20).default}),Y(Z.a));window.store=z;var V=z;c.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(l.a,{children:Object(s.jsx)(j.a,{store:V,children:Object(s.jsx)(F,{})})})}),document.getElementById("root")),W()}},[[77,1,2]]]);
//# sourceMappingURL=main.7835bf9d.chunk.js.map