{"version":3,"sources":["components/News/Comments/Comments.module.css","api/api.js","redux/news-reducer.js","redux/main-reducer.js","components/News/News.module.css","utils/getDate.js","assets/preloader-bottom.gif","components/Main/Main.js","redux/main-selectors.js","assets/main-preloader.gif","components/Main/MainContainer.js","assets/preloader-bottom-news.gif","components/News/Comments/Comments.js","components/News/News.js","redux/news-selectors.js","components/News/NewsContainer.js","App.js","reportWebVitals.js","redux/store.js","index.js","components/Main/Main.module.css"],"names":["module","exports","instance","require","default","create","baseURL","API","getItem","id","get","getUsers","name","getIdsOfNewStories","SET_ITEM","SET_CHUNK","TOGGLE_PRELOADER","TOGGLE_PRELOADER_BOTTOM","TOGGLE_DISABLE","ADD_KIDS","RELOAD","initialState","items","isPreloaded","isPreloadedBottom","isDisabled","setItem","item","type","setChunkOfItems","chunk","addKids","togglePreloaderBottom","togglePreloader","toggleDisable","reload","chunkOfItems","requestItems","dispatch","a","requestItemsByItem","callRecursiveRequest","response","recursiveRequest","data","kids","i","length","requestItemsByChunk","push","addKidsInChunk","chunkOfKids","forEach","requestKids","setEmptyChildrens","requestForReload","idOfParents","childrens","reloadPage","setTimeout","newsReducer","state","action","map","SET_IDS","SET_STORIES","idsOfNewStories","stories","setIds","ids","setStories","requestIds","requestStoriesPattern","denominator","requestStories","reloadStories","mainReducer","getDateOfStory","time","d","Date","getDate","getMonth","getFullYear","getHours","toString","getMinutes","getDiffOfDate","diff","years","month","date","hours","minutes","seconds","getSeconds","Main","className","c","main","button","disabled_button","disabled","onClick","newsItem","deleted","to","text","title","bottom","author","by","score","score__num","score__text","src","preloaderBottom","alt","getIds","mainPage","getStories","getIsPreloaded","getIsPreloadedBottom","getIsDisabled","connect","useEffect","interval","clearTimeout","JSON","stringify","mainPreloader","ActiveComment","comments","addChildrens","isClicked","slice","sort","b","comment","comment__wrapper","top","comment__parent","parent","comment__initial","comment__low","comment__clicked","comment__disabled","dangerouslySetInnerHTML","__html","Comments","wrapper","News","idOfStory","news","text__wrapper","link","url","href","count","delleted","getItems","newsPage","compose","withRouter","props","useState","setIsClicked","stateForClick","match","params","App","path","render","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","combineReducers","createStore","applyMiddleware","store","thunk","window","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.45b38d45.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Comments_wrapper__3hjhU\",\"comment__wrapper\":\"Comments_comment__wrapper__75B9A\",\"comment__parent\":\"Comments_comment__parent__3XXIU\",\"comment__initial\":\"Comments_comment__initial__3d-wZ\",\"comment__low\":\"Comments_comment__low__PjDJc\",\"comment__clicked\":\"Comments_comment__clicked__WGkI7\",\"comment__disabled\":\"Comments_comment__disabled__2FFip\",\"author\":\"Comments_author__2u9RH\",\"top\":\"Comments_top__XxDRG\",\"title\":\"Comments_title__1nmJe\"};","const { default: Axios } = require(\"axios\")\n\n\nconst instance = Axios.create({\n        baseURL: 'https://hacker-news.firebaseio.com/v0/',\n})\n\n\n\nexport const API = {\n    getItem(id) {\n        return instance.get(`/item/${id}.json?print=pretty`)\n    },\n    getUsers(name) {\n        return instance.get(`user/${name}.json?print=pretty`)\n    },\n    getIdsOfNewStories() {\n        return instance.get('newstories.json?print=pretty')\n    }\n}\n\n","import { API } from \"../api/api\";\n\nconst SET_ITEM = 'NEWS-REDUCER/SET_ITEM';\nconst SET_CHUNK = 'NEWS-REDUCER/SET_CHUNK'\nconst TOGGLE_PRELOADER = 'NEWS_REDUCER/TOGGLE_PRELOADER';\nconst TOGGLE_PRELOADER_BOTTOM = 'NEWS_REDUCER/TOGGLE_PRELOADER_BOTTOM';\nconst TOGGLE_DISABLE = 'NEWS_REDUCER/TOGGLE_DISABLE';\nconst ADD_KIDS = 'NEWS_REDUCER/ADD_KID';\nconst RELOAD = 'NEWS_REDUCER/RELOAD'\n\n\nconst initialState = {\n    items: [],\n    isPreloaded: true,\n    isPreloadedBottom: false,\n    isDisabled: true,\n}\nconst newsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_ITEM:\n            return {\n                ...state, items: state.items.length !== 0 && action.item.type === 'story'\n                    ? [action.item]\n                    : [...state.items, action.item]\n            }\n        case SET_CHUNK:\n            return { ...state, items: action.chunk }\n        case ADD_KIDS:\n            return {\n                ...state, items: state.items.map(item => item.id === +action.id\n                    ? { ...item, childrens: action.chunk }\n                    : { ...item })\n            }\n        case RELOAD:\n            return { ...state, items: action.items }\n        case TOGGLE_PRELOADER:\n            return { ...state, isPreloaded: action.isPreloaded }\n        case TOGGLE_PRELOADER_BOTTOM:\n            return { ...state, isPreloadedBottom: action.isPreloadedBottom }\n        case TOGGLE_DISABLE:\n            return { ...state, isDisabled: action.isDisabled }\n\n        default: return state\n    }\n}\n\nexport const setItem = (item) => ({\n    type: SET_ITEM,\n    item\n})\nexport const setChunkOfItems = (chunk) => ({\n    type: SET_CHUNK,\n    chunk\n})\nexport const addKids = (chunk, id) => ({\n    type: ADD_KIDS,\n    chunk,\n    id\n})\nexport const togglePreloaderBottom = (isPreloadedBottom) => ({\n    type: TOGGLE_PRELOADER_BOTTOM,\n    isPreloadedBottom\n})\nexport const togglePreloader = (isPreloaded) => ({\n    type: TOGGLE_PRELOADER,\n    isPreloaded\n})\nexport const toggleDisable = (isDisabled) => ({\n    type: TOGGLE_DISABLE,\n    isDisabled\n})\nexport const reload = (items) => ({\n    type: RELOAD,\n    items\n})\n\nlet chunkOfItems = []\n\nexport const requestItems = (id) => async (dispatch) => {\n    dispatch(togglePreloader(true));\n    dispatch(togglePreloaderBottom(true));\n    dispatch(toggleDisable(true));\n    await dispatch(requestItemsByItem(id)); \n    dispatch(toggleDisable(false));\n    dispatch(togglePreloaderBottom(false));\n}\nconst callRecursiveRequest = async (response, dispatch, recursiveRequest) => {\n    if (response.data && response.data.kids) {\n        for (let i = 0; i < response.data.kids.length; i++) {\n            await dispatch(recursiveRequest(response.data.kids[i]));\n        }\n    }\n}\nconst requestItemsByItem = (id) => async (dispatch) => {\n    const response = await API.getItem(id);\n    dispatch(setItem(response.data))\n    response.data.type === 'story' && dispatch(togglePreloader(false));\n    await callRecursiveRequest(response, dispatch, requestItemsByItem)\n}\nconst requestItemsByChunk = (id) => async (dispatch) => {\n    const response = await API.getItem(id);\n    chunkOfItems.push(response.data);\n    await callRecursiveRequest(response, dispatch, requestItemsByChunk)\n}\nconst addKidsInChunk = (response, chunkOfKids, items) => {\n    for (let i = 0; i < response.data.kids.length; i++) {\n        items.forEach(item => item.id === response.data.kids[i] && chunkOfKids.push(item));\n    }\n}\nexport const requestKids = (id, items) => async (dispatch) => {\n    let chunkOfKids = [];\n    const response = await API.getItem(id);\n    if (response.data && response.data.kids) {\n        addKidsInChunk(response, chunkOfKids, items);\n        dispatch(addKids(chunkOfKids, id));\n    }\n}\nexport const setEmptyChildrens = (id) => (dispatch) => {\n    let emptyChunk = [];\n    dispatch(addKids(emptyChunk, id));\n}\nconst requestForReload = (id, items, idOfParents) => async (dispatch) => {\n    let chunkOfKids = [];\n    const response = await API.getItem(id);\n    if (response.data && response.data.kids) {\n        addKidsInChunk(response, chunkOfKids, items);\n        id === idOfParents[0] && await dispatch(requestItemsByChunk(id));\n        chunkOfItems.forEach(item => { if (item.id === +id) item.childrens = chunkOfKids });\n    }\n}\nexport const reloadPage = (id, items) => async (dispatch) => {\n    dispatch(toggleDisable(true));\n    if (!items[0].childrens) {\n        setTimeout(() => dispatch(toggleDisable(false)), 500\n        )\n        return null\n    }\n    const idOfParents = [id];\n    items.forEach(item => item.childrens && item.childrens.length > 0 && item.type !== 'story' && idOfParents.push(item.id));\n    for (let i = 0; i < idOfParents.length; i++) await dispatch(requestForReload(idOfParents[i], items, idOfParents));\n    dispatch(reload(chunkOfItems));\n    chunkOfItems = [];\n    dispatch(toggleDisable(false));\n}\n\nexport default newsReducer;\n\n\n\n\n\n\n// export const requestFirstKids = (id, items) => async (dispatch) => {\n//     dispatch(toggleDisable(true))\n//     let chunkOfKids = [];\n//     const response = await API.getItem(id);\n//     if (response.data && response.data.kids) {\n//         for (let i = 0; i < response.data.kids.length; i++) {\n//             items.forEach(item => item.id === response.data.kids[i] && chunkOfKids.push(item));\n//         }\n//         await dispatch(requestItemsByChunk(id))\n//         chunkOfItems[0].childrens = chunkOfKids;\n//         dispatch(reload(chunkOfItems))\n//         chunkOfItems = []\n//     }\n//     dispatch(toggleDisable(false))\n// }","import { API } from \"../api/api\";\n\nconst SET_IDS = 'MAIN-REDUCER/SET_IDS';\nconst SET_STORIES = 'MAIN-REDUCER/SET_STORIES';\nconst TOGGLE_PRELOADER = 'MAIN-REDUCER/TOGGLE_PRELOADER';\nconst TOGGLE_PRELOADER_BOTTOM = 'MAIN-REDUCER/TOGGLE_PRELOADER_BOTTOM';\nconst TOGGLE_DISABLE = 'MAIN_REDUCER?TOGGLE_DISABLE';\n\nconst initialState = {\n    idsOfNewStories: [],\n    stories: [],\n    isPreloaded: true,\n    isPreloadedBottom: true,\n    isDisabled: true,\n}\n\nconst mainReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_IDS:\n            return { ...state, idsOfNewStories: action.ids }\n        case SET_STORIES:\n            return {\n                ...state, stories: state.stories.length < 100\n                    ? [...state.stories, ...action.stories]\n                    : action.stories\n            }\n        case TOGGLE_PRELOADER:\n            return { ...state, isPreloaded: action.isPreloaded }\n        case TOGGLE_PRELOADER_BOTTOM:\n            return { ...state, isPreloadedBottom: action.isPreloadedBottom }\n        case TOGGLE_DISABLE:\n            return { ...state, isDisabled: action.isDisabled }\n        default: return state\n    }\n}\n\nexport const setIds = (ids) => ({\n    type: SET_IDS,\n    ids\n})\nexport const setStories = (stories) => ({\n    type: SET_STORIES,\n    stories\n})\nexport const togglePreloader = (isPreloaded) => ({\n    type: TOGGLE_PRELOADER,\n    isPreloaded\n})\nexport const togglePreloaderBottom = (isPreloadedBottom) => ({\n    type: TOGGLE_PRELOADER_BOTTOM,\n    isPreloadedBottom\n})\nexport const toggleDisable = (isDisabled) => ({\n    type: TOGGLE_DISABLE,\n    isDisabled\n})\n\nexport const requestIds = () => async (dispatch) => {\n    const response = await API.getIdsOfNewStories();\n    dispatch(setIds(response.data));\n}\nconst requestStoriesPattern = async (ids, dispatch, API, denominator) => {\n    dispatch(toggleDisable(true));\n    let i = 0;\n    let chunk = [];\n    await dispatch(requestIds());\n    while (i < 100) {\n        const response = await API.getItem(ids[i]);\n        chunk.push(response.data);\n        if (chunk.length % denominator === 0) {\n            dispatch(setStories(chunk));\n            denominator === 10 && dispatch(togglePreloader(false)); \n            chunk = [];\n        }\n        i++\n    }\n    dispatch(toggleDisable(false));\n    dispatch(togglePreloaderBottom(false));\n}\nexport const requestStories = (ids) => async (dispatch) => {\n    dispatch(togglePreloader(true));\n    dispatch(togglePreloaderBottom(true));\n    requestStoriesPattern(ids, dispatch, API, 10);  \n}\nexport const reloadStories = (ids) => async (dispatch) => {\n    requestStoriesPattern(ids, dispatch, API, 100);  \n}\n\nexport default mainReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"top\":\"News_top__1sbA7\",\"button\":\"News_button__1haJm\",\"disabled_button\":\"News_disabled_button__37m_m\",\"text__wrapper\":\"News_text__wrapper__3XLnS\",\"count\":\"News_count__2U7_A\",\"author\":\"News_author__36A-G\",\"data\":\"News_data__3r4H4\",\"title\":\"News_title__3zIRZ\",\"delleted\":\"News_delleted__2mk4s\"};","\nexport const getDateOfStory = (time) => {\n    const d = new Date(time * 1000);\n    return d.getDate() + '/' + d.getMonth() + '/' + d.getFullYear() + '  '\n        + (d.getHours().toString().length === 1\n            ? ('0' + d.getHours())\n            : d.getHours()) + ':'\n        + (d.getMinutes().toString().length === 1\n            ? ('0' + d.getMinutes())\n            : d.getMinutes())\n}\n\nexport const getDiffOfDate = (time) => {\n    const diff = +new Date() - time * 1000;\n    const d = new Date(diff);\n    const years = d.getFullYear() - 1970;\n    const month = d.getMonth();\n    const date = d.getDate() - 1;\n    const hours = d.getHours() - 3;\n    const minutes = d.getMinutes();\n    const seconds = d.getSeconds()\n    return (years && (years === 1 ? `${years} year ago` : `${years} years ago`))\n        || (month && (month === 1 ? `${month} month ago` : `${month} months ago`))\n        || (date && (date === 1 ? `${date} day ago` : `${date} days ago`))\n        || (hours && (hours === 1 ? `${hours} hour ago` : `${hours} hours ago`))\n        || (minutes && (minutes === 1 ? `${minutes} minute ago` : `${minutes} minutes ago`))\n        || (seconds && (seconds === 1 ? `${seconds} second ago` : `${seconds} seconds ago`))\n}","export default __webpack_public_path__ + \"static/media/preloader-bottom.7f686c03.gif\";","import React from 'react';\nimport c from './Main.module.css';\nimport { NavLink } from 'react-router-dom';\nimport { getDateOfStory } from '../../utils/getDate';\nimport preloaderBottom from '../../assets/preloader-bottom.gif';\n\nconst Main = ({ stories, reloadStories, idsOfNewStories, isDisabled, isPreloadedBottom }) => {\n    if (stories.length < 1) return null\n    return <div className={c.main}>\n        <button className={c.button + ' ' + (isDisabled && c.disabled_button)}\n            disabled={isDisabled} onClick={() => reloadStories(idsOfNewStories)}>\n            {isDisabled ? 'The page is updating...' : 'Update'}\n        </button>\n        <div className={c.items}>\n            {stories.map(newsItem => (newsItem && !newsItem.deleted)\n                ? <NavLink className={c.item} to={`/News/${newsItem.id}`} key={newsItem.id}>\n                    <div className={c.text}>\n                        <div className={c.title}>{newsItem.title}</div>\n                        <div className={c.bottom}>\n                            <div className={c.time}>{getDateOfStory(newsItem.time)}</div>\n                            <div className={c.author}>author: <span>{newsItem.by}</span></div>\n                        </div>\n                    </div>\n                    <div className={c.score}>\n                        <span className={c.score__num}>{newsItem.score}</span>\n                        <span className={c.score__text}>score</span>\n                    </div>\n                </NavLink>\n                : null)}\n        </div>\n        {isPreloadedBottom && <img className='preloader__bottom' src={preloaderBottom} alt='' />}\n    </div>\n}\n\nexport default Main;","export const getIds = (state) => {\n    return state.mainPage.idsOfNewStories;\n}\nexport const getStories = (state) => {\n    return state.mainPage.stories;\n}\nexport const getIsPreloaded = (state) => {\n    return state.mainPage.isPreloaded;\n}\nexport const getIsPreloadedBottom = (state) => {\n    return state.mainPage.isPreloadedBottom;\n}\nexport const getIsDisabled = (state) => {\n    return state.mainPage.isDisabled;\n}","export default __webpack_public_path__ + \"static/media/main-preloader.f14be704.gif\";","import React, { useEffect } from 'react';\nimport Main from './Main';\nimport { connect } from 'react-redux';\nimport { requestIds, requestStories, reloadStories } from '../../redux/main-reducer';\nimport { getIds, getStories, getIsPreloaded, getIsPreloadedBottom, getIsDisabled } from '../../redux/main-selectors';\nimport mainPreloader from '../../assets/main-preloader.gif';\n\nconst MainContainer = ({ requestIds, requestStories, reloadStories, idsOfNewStories,\n    stories, isPreloaded, isDisabled, isPreloadedBottom }) => {\n    useEffect(() => {\n        if (idsOfNewStories.length === 0) requestIds();\n        if (idsOfNewStories.length > 100 && stories.length === 0) requestStories(idsOfNewStories);\n        if (stories.length > 0) reloadStories(idsOfNewStories)\n    }, [requestIds, requestStories, reloadStories, idsOfNewStories.length])\n    useEffect(() => {\n        const interval = setTimeout(() => {\n            if (isDisabled) return null\n            if (idsOfNewStories.length > 100) {\n                reloadStories(idsOfNewStories);\n            }\n        }, 60000)\n        return () => clearTimeout(interval);\n    }, [reloadStories, idsOfNewStories.length, JSON.stringify(idsOfNewStories), isDisabled])\n\n    if (isPreloaded) return <img className='preloader' src={mainPreloader} alt='' />\n    return <Main stories={stories} reloadStories={reloadStories} idsOfNewStories={idsOfNewStories}\n        isDisabled={isDisabled} isPreloadedBottom={isPreloadedBottom} />\n}\n\nconst mapStateToProps = (state) => ({\n    idsOfNewStories: getIds(state),\n    stories: getStories(state),\n    isPreloaded: getIsPreloaded(state),\n    isDisabled: getIsDisabled(state),\n    isPreloadedBottom: getIsPreloadedBottom(state)\n})\n\nexport default connect(mapStateToProps, { requestIds, requestStories, reloadStories })(MainContainer);","export default __webpack_public_path__ + \"static/media/preloader-bottom-news.e8f649af.gif\";","import React from 'react';\nimport c from './Comments.module.css';\nimport { getDiffOfDate } from '../../../utils/getDate';\nimport preloaderBottom from '../../../assets/preloader-bottom-news.gif'\n\nconst Comments = ({ items, isPreloaded, isClicked, addChildrens, isPreloadedBottom, isDisabled}) => {\n    if (isPreloaded || !items[0] || !items[0].kids || !items[0].childrens) return null\n    return <div className={c.wrapper}>\n        <div className={c.title}><h2>Comments</h2></div>\n        <ActiveComment addChildrens={addChildrens} items={items} comments={items[0].childrens} isClicked={isClicked} isDisabled={isDisabled}/>\n        {isPreloadedBottom && <img className='preloader__bottom-news' src={preloaderBottom} alt='' />}\n    </div>\n}\n\nconst ActiveComment = ({ comments, addChildrens, items, isClicked, isDisabled }) => {\n    let copyOfComments = comments.slice()\n    return copyOfComments.sort((a, b) => b.time - a.time).map(comment => (\n        <div className={c.comment__wrapper} key={comment.id}>\n            <div className={c.top}><span className={c.author}>{comment.by}</span><span className={c.time}>{getDiffOfDate(comment.time)}</span></div>\n\n            <div className={(comment.kids && c.comment__parent) + ' ' + (comment.parent === items[0].id ? c.comment__initial : c.comment__low) + ' '\n                + (isClicked[comment.id] && comment.kids && c.comment__clicked) + ' ' + (comment.kids && isDisabled && c.comment__disabled)}\n                disabled={true} onClick={() => { addChildrens(comment.id, items, isDisabled) }} key={comment.id}\n                dangerouslySetInnerHTML={{ __html: comment.text ? comment.text : 'Comment deleted' }} />\n\n            {items.map(item => {\n                if (item.id === comment.id && item.childrens) return <ActiveComment\n                    addChildrens={addChildrens} items={items} comments={item.childrens} isClicked={isClicked} key={item.id} isDisabled={isDisabled}/>\n            })}\n        </div>\n    ))\n}\n\n\n\nexport default Comments;","import React from 'react';\nimport c from './News.module.css';\nimport { NavLink } from 'react-router-dom';\nimport { getDateOfStory } from '../../utils/getDate';\nimport Comments from './Comments/Comments';\n\nconst News = ({ items, reloadPage, isPreloaded, isDisabled, idOfStory, isClicked, addChildrens, isPreloadedBottom }) => {\n    if (items.length < 1) return null\n    if (items[0] && items[0].title && items[0].time && items[0].by) {\n        return <div className={c.news}>\n            <div className={c.top}>\n                <div className={c.text__wrapper}>\n                    <button disabled={isDisabled} className={c.button + ' ' + (isDisabled && c.disabled_button)}\n                        onClick={async () => {\n                            await reloadPage(idOfStory, items);\n                        }}>\n                        {isDisabled ? 'The page is updating...' : 'Update'}\n                    </button>\n                    <span className={c.link}><NavLink to='/HackerNewsAPI-Avito'>News list</NavLink></span>\n                    {items[0].url && <span className={c.link}>{items[0] && <a href={items[0].url}>Link to the news</a>}</span>}\n                    <span>Title: <span className={c.title}>{items[0].title}</span> </span>\n                    <span>Publication date: <span className={c.data}>{getDateOfStory(items[0].time)}</span></span>\n                    <span>Author: <span className={c.author}>{items[0].by}</span></span>\n                    <span>{isDisabled\n                        ? 'Count of comments is computing...'\n                        : <span>Count of comments: <span className={c.count}>{items.length - 1}</span></span>}\n                    </span>\n                </div>\n            </div>\n            <Comments items={items} isPreloaded={isPreloaded} addChildrens={addChildrens} isClicked={isClicked}\n                isPreloadedBottom={isPreloadedBottom} isDisabled={isDisabled} />\n        </div>\n    } else return <div className={c.text__wrapper}>\n        <span className={c.link}><NavLink to='/HackerNewsAPI-Avito'>News list</NavLink></span>\n        <span className={c.delleted}>NEWS DELETED</span>\n    </div>\n}\n\nexport default News;","export const getItems = (state) => {\n    return state.newsPage.items;\n}\nexport const getIsPreloaded = (state) => {\n    return state.newsPage.isPreloaded;\n}\nexport const getIsPreloadedBottom = (state) => {\n    return state.newsPage.isPreloadedBottom;\n}\nexport const getIsDisabled = (state) => {\n    return state.newsPage.isDisabled;\n}\n","import React, { useEffect, useState } from 'react';\nimport News from './News';\nimport { setEmptyChildrens, requestItems, requestKids, reloadPage } from '../../redux/news-reducer';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { getItems } from '../../redux/news-selectors';\nimport { getIsPreloaded, getIsPreloadedBottom, getIsDisabled } from '../../redux/news-selectors';\nimport mainPreloader from '../../assets/main-preloader.gif';\nimport { compose } from 'redux';\n\nconst NewsContainer = ({ reloadPage, requestItems, setEmptyChildrens, items,\n    isPreloaded, isDisabled, requestKids, isPreloadedBottom, ...props }) => {\n\n    const [isClicked, setIsClicked] = useState({});\n    const addChildrens = async (id, items, isDisabled) => {\n        if (isDisabled) return null\n        const stateForClick = {};\n        if (isClicked[id]) {\n            setEmptyChildrens(id);\n            stateForClick[id] = false;\n            setIsClicked({ ...isClicked, ...stateForClick });\n        } else {\n            await requestKids(id, items);\n            stateForClick[id] = true;\n            setIsClicked({ ...isClicked, ...stateForClick });\n        }\n    }\n\n    useEffect(() => {\n        requestItems(props.match.params.id);\n    }, [props.match.params.id, requestItems])\n    useEffect(() => {\n        const interval = setTimeout(() => {\n            if (isDisabled) return null\n            reloadPage(props.match.params.id, items);\n        }, 60000)\n        return () => clearTimeout(interval)\n    }, [items.length, isDisabled, JSON.stringify(items), props.match.params.id, reloadPage])\n    useEffect(() => {\n        items.length !== 0 && requestKids(props.match.params.id, items); \n    }, [items.length, props.match.params.id, requestKids])\n\n    return isPreloaded\n        ? <img className='preloader' src={mainPreloader} alt='' />\n        : <News items={items} isPreloaded={isPreloaded} reloadPage={reloadPage} idOfStory={props.match.params.id}\n            isDisabled={isDisabled} addChildrens={addChildrens} isClicked={isClicked} isPreloadedBottom={isPreloadedBottom} />\n}\n\n\nconst mapStateToProps = (state) => ({\n    items: getItems(state),\n    isPreloaded: getIsPreloaded(state),\n    isPreloadedBottom: getIsPreloadedBottom(state),\n    isDisabled: getIsDisabled(state)\n})\n\nexport default compose(\n    connect(mapStateToProps, { reloadPage, requestItems, setEmptyChildrens, requestKids }),\n    withRouter\n)(NewsContainer);\n","import './App.css';\nimport { Route } from 'react-router-dom';\nimport MainContainer from './components/Main/MainContainer';\nimport NewsContainer from './components/News/NewsContainer';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n        <Route path='/HackerNewsAPI-Avito' render={() => <MainContainer />}/>\n        <Route path='/News/:id?' render={() => <NewsContainer />}/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import thunk from \"redux-thunk\";\n\nconst { combineReducers, createStore, applyMiddleware } = require(\"redux\");\nconst { default: mainReducer } = require(\"./main-reducer\");\nconst { default: newsReducer } = require(\"./news-reducer\");\n\n\nconst reducers = combineReducers({\n    mainPage: mainReducer,\n    newsPage: newsReducer\n})\n\nconst store = createStore(reducers, applyMiddleware(thunk));\nwindow.store = store;\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Main_item__3Ea2a\",\"bottom\":\"Main_bottom__3Zl6k\",\"text\":\"Main_text__2ghqa\",\"title\":\"Main_title__1S8vA\",\"author\":\"Main_author__1rnnt\",\"time\":\"Main_time__13HdR\",\"score\":\"Main_score__22PUV\",\"score__num\":\"Main_score__num__2wU0Q\",\"score__text\":\"Main_score__text__I9EEz\",\"button\":\"Main_button__2eW8g\",\"disabled_button\":\"Main_disabled_button__2IQF3\"};"],"sourceRoot":""}