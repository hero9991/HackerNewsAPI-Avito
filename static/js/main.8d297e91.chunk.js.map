{"version":3,"sources":["components/News/Comments/Comments.module.css","api/api.js","redux/news-reducer.js","redux/main-reducer.js","components/News/News.module.css","utils/getDate.js","assets/preloader-bottom.gif","components/Main/Main.js","redux/main-selectors.js","assets/main-preloader.gif","components/Main/MainContainer.js","assets/preloader-bottom-news.gif","components/News/Comments/Comments.js","components/News/News.js","redux/news-selectors.js","components/News/NewsContainer.js","App.js","reportWebVitals.js","redux/store.js","index.js","components/Main/Main.module.css"],"names":["module","exports","instance","require","default","create","baseURL","API","getItem","id","get","getUsers","name","getIdsOfNewStories","SET_ITEMS","SET_CHUNK","TOGGLE_PRELOADER","TOGGLE_PRELOADER_BOTTOM","TOGGLE_DISABLE","ADD_KIDS","RELOAD","initialState","items","isPreloaded","isPreloadedBottom","isDisabled","setItems","item","type","setChunkOfItems","chunk","addKids","togglePreloaderBottom","togglePreloader","toggleDisable","reload","chunkOfItems","requestItems","dispatch","a","requestItemsByItem","callRecursion","response","recursiveRequest","data","kids","i","length","requestItemsByChunk","push","addKidsInChunk","chunkOfKids","forEach","requestKids","setEmptyChildrens","requestForReload","idOfParents","childrens","reloadPage","setTimeout","newsReducer","state","action","map","SET_IDS","SET_STORIES","idsOfNewStories","stories","setIds","ids","setStories","requestIds","requestStoriesPattern","denominator","requestStories","reloadStories","mainReducer","getDateOfStory","time","d","Date","getDate","getMonth","getFullYear","getHours","toString","getMinutes","getDiffOfDate","diff","years","month","date","hours","minutes","seconds","getSeconds","Main","className","c","main","button","disabled_button","disabled","onClick","newsItem","deleted","to","text","title","bottom","author","by","score","score__num","score__text","src","preloaderBottom","alt","getIds","mainPage","getStories","getIsPreloaded","getIsPreloadedBottom","getIsDisabled","connect","useEffect","interval","clearTimeout","mainPreloader","ActiveComment","comments","addChildrens","isClicked","slice","sort","b","comment","top","comment__items","parent","comment__initial","low","clicked","notClicked","dangerouslySetInnerHTML","__html","Comments","wrapper","News","idOfStory","news","text__wrapper","link","url","href","count","delleted","getItems","newsPage","compose","withRouter","props","useState","setIsClicked","stateForClick","match","params","JSON","stringify","App","path","render","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","combineReducers","createStore","applyMiddleware","store","thunk","window","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8d297e91.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Comments_wrapper__3hjhU\",\"comments\":\"Comments_comments__1jzq9\",\"comment__items\":\"Comments_comment__items__1KBhp\",\"comment__initial\":\"Comments_comment__initial__3d-wZ\",\"low\":\"Comments_low__1Ip3w\",\"clicked\":\"Comments_clicked__3WErX\",\"author\":\"Comments_author__2u9RH\",\"top\":\"Comments_top__XxDRG\",\"title\":\"Comments_title__1nmJe\"};","const { default: Axios } = require(\"axios\")\n\n\nconst instance = Axios.create({\n        baseURL: 'https://hacker-news.firebaseio.com/v0/',\n})\n\n\n\nexport const API = {\n    getItem(id) {\n        return instance.get(`/item/${id}.json?print=pretty`)\n    },\n    getUsers(name) {\n        return instance.get(`user/${name}.json?print=pretty`)\n    },\n    getIdsOfNewStories() {\n        return instance.get('newstories.json?print=pretty')\n    }\n}\n\n","import { API } from \"../api/api\";\n\nconst SET_ITEMS = 'NEWS-REDUCER/SET_ITEMS';\nconst SET_CHUNK = 'NEWS-REDUCER/SET_CHUNK'\nconst TOGGLE_PRELOADER = 'NEWS_REDUCER/TOGGLE_PRELOADER';\nconst TOGGLE_PRELOADER_BOTTOM = 'NEWS_REDUCER/TOGGLE_PRELOADER_BOTTOM';\nconst TOGGLE_DISABLE = 'NEWS_REDUCER/TOGGLE_DISABLE';\nconst ADD_KIDS = 'NEWS_REDUCER/ADD_KID';\nconst RELOAD = 'NEWS_REDUCER/RELOAD'\n\n// const SET_CHUNK = 'NEWS-REDUCER/SET_CHUNK'\n\nconst initialState = {\n    items: [],\n    isPreloaded: true,\n    isPreloadedBottom: false,\n    isDisabled: true,\n}\nconst newsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_ITEMS:\n            return {\n                ...state, items: state.items.length !== 0 && action.item.type === 'story'\n                    ? [action.item]\n                    : [...state.items, action.item]\n            }\n        case SET_CHUNK:\n            return { ...state, items: action.chunk }\n        case ADD_KIDS:\n            return {\n                ...state, items: state.items.map(item => item.id === +action.id\n                    ? { ...item, childrens: action.chunk }\n                    : item)\n            }\n        case TOGGLE_PRELOADER:\n            return { ...state, isPreloaded: action.isPreloaded }\n        case TOGGLE_PRELOADER_BOTTOM:\n            return { ...state, isPreloadedBottom: action.isPreloadedBottom }\n        case TOGGLE_DISABLE:\n            return { ...state, isDisabled: action.isDisabled }\n        case RELOAD:\n            return { ...state, items: action.items }\n        default: return state\n    }\n}\n\nexport const setItems = (item) => ({\n    type: SET_ITEMS,\n    item\n})\nexport const setChunkOfItems = (chunk) => ({\n    type: SET_CHUNK,\n    chunk\n})\nexport const addKids = (chunk, id) => ({\n    type: ADD_KIDS,\n    chunk,\n    id\n})\nexport const togglePreloaderBottom = (isPreloadedBottom) => ({\n    type: TOGGLE_PRELOADER_BOTTOM,\n    isPreloadedBottom\n})\nexport const togglePreloader = (isPreloaded) => ({\n    type: TOGGLE_PRELOADER,\n    isPreloaded\n})\nexport const toggleDisable = (isDisabled) => ({\n    type: TOGGLE_DISABLE,\n    isDisabled\n})\nconst reload = (items) => ({\n    type: RELOAD,\n    items\n})\n\nlet chunkOfItems = []\n\nexport const requestItems = (id) => async (dispatch) => {\n    dispatch(togglePreloader(true));\n    dispatch(togglePreloaderBottom(true));\n    dispatch(toggleDisable(true));\n    await dispatch(requestItemsByItem(id)); //стирает childrensov, requestkids zapustitsya sam\n    dispatch(toggleDisable(false));\n    dispatch(togglePreloaderBottom(false));\n}\nconst callRecursion = async (response, dispatch, recursiveRequest) => {\n    if (response.data && response.data.kids) {\n        for (let i = 0; i < response.data.kids.length; i++) {\n            await dispatch(recursiveRequest(response.data.kids[i]));\n        }\n    }\n}\nexport const requestItemsByItem = (id) => async (dispatch) => {\n    const response = await API.getItem(id);\n    dispatch(setItems(response.data))\n    response.data.type === 'story' && dispatch(togglePreloader(false));\n    await callRecursion(response, dispatch, requestItemsByItem)\n}\nexport const requestItemsByChunk = (id) => async (dispatch) => {\n    const response = await API.getItem(id);\n    chunkOfItems.push(response.data);\n    await callRecursion(response, dispatch, requestItemsByChunk)\n}\n\nconst addKidsInChunk = (response, chunkOfKids, items) => {\n    for (let i = 0; i < response.data.kids.length; i++) {\n        items.forEach(item => item.id === response.data.kids[i] && chunkOfKids.push(item));\n    }\n}\nexport const requestKids = (id, items) => async (dispatch) => {\n    let chunkOfKids = [];\n    const response = await API.getItem(id);\n    if (response.data && response.data.kids) {\n        addKidsInChunk(response, chunkOfKids, items);\n        dispatch(addKids(chunkOfKids, id));\n    }\n}\n\nexport const setEmptyChildrens = (id) => (dispatch) => {\n    let emptyChunk = [];\n    dispatch(addKids(emptyChunk, id));\n}\n\n\nexport const requestForReload = (id, items, idOfParents) => async (dispatch) => {\n    let chunkOfKids = [];\n    const response = await API.getItem(id);\n    if (response.data && response.data.kids) {\n        addKidsInChunk(response, chunkOfKids, items);\n        id === idOfParents[0] && await dispatch(requestItemsByChunk(id)); //только в первый раз\n        chunkOfItems.forEach(item => { if (item.id === +id) item.childrens = chunkOfKids });\n    }\n}\nexport const reloadPage = (id, items) => async (dispatch) => {\n    if (!items[0].childrens) {\n        dispatch(toggleDisable(true));\n        setTimeout(() => dispatch(toggleDisable(false)), 500\n        )\n        return null\n    }\n    dispatch(toggleDisable(true));\n    const idOfParents = [id];\n    items.forEach(item => item.childrens && item.childrens.length > 0 && item.type !== 'story' && idOfParents.push(item.id));\n    for (let i = 0; i < idOfParents.length; i++) await dispatch(requestForReload(idOfParents[i], items, idOfParents));\n    dispatch(reload(chunkOfItems));\n    chunkOfItems = [];\n    dispatch(toggleDisable(false));\n}\n\nexport default newsReducer;\n\n\n\n\n\n\n// export const requestFirstKids = (id, items) => async (dispatch) => {\n//     dispatch(toggleDisable(true))\n//     let chunkOfKids = [];\n//     const response = await API.getItem(id);\n//     if (response.data && response.data.kids) {\n//         for (let i = 0; i < response.data.kids.length; i++) {\n//             items.forEach(item => item.id === response.data.kids[i] && chunkOfKids.push(item));\n//         }\n//         await dispatch(requestItemsByChunk(id))\n//         chunkOfItems[0].childrens = chunkOfKids;\n//         dispatch(reload(chunkOfItems))\n//         chunkOfItems = []\n//     }\n//     dispatch(toggleDisable(false))\n// }","import { API } from \"../api/api\";\n\nconst SET_IDS = 'MAIN-REDUCER/SET_IDS';\nconst SET_STORIES = 'MAIN-REDUCER/SET_STORIES';\nconst TOGGLE_PRELOADER = 'MAIN-REDUCER/TOGGLE_PRELOADER';\nconst TOGGLE_PRELOADER_BOTTOM = 'MAIN-REDUCER/TOGGLE_PRELOADER_BOTTOM';\nconst TOGGLE_DISABLE = 'MAIN_REDUCER?TOGGLE_DISABLE';\n\nconst initialState = {\n    idsOfNewStories: [],\n    stories: [],\n    isPreloaded: true,\n    isPreloadedBottom: true,\n    isDisabled: true,\n}\n\nconst mainReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_IDS:\n            return { ...state, idsOfNewStories: [...action.ids] }\n        case SET_STORIES:\n            return {\n                ...state, stories: state.stories.length < 100\n                    ? [...state.stories, ...action.stories]\n                    : [...action.stories]\n            }\n        case TOGGLE_PRELOADER:\n            return { ...state, isPreloaded: action.isPreloaded }\n        case TOGGLE_PRELOADER_BOTTOM:\n            return { ...state, isPreloadedBottom: action.isPreloadedBottom }\n        case TOGGLE_DISABLE:\n            return { ...state, isDisabled: action.isDisabled }\n        default: return state\n    }\n}\n\nexport const setIds = (ids) => ({\n    type: SET_IDS,\n    ids\n})\nexport const setStories = (stories) => ({\n    type: SET_STORIES,\n    stories\n})\nexport const togglePreloader = (isPreloaded) => ({\n    type: TOGGLE_PRELOADER,\n    isPreloaded\n})\nexport const togglePreloaderBottom = (isPreloadedBottom) => ({\n    type: TOGGLE_PRELOADER_BOTTOM,\n    isPreloadedBottom\n})\nexport const toggleDisable = (isDisabled) => ({\n    type: TOGGLE_DISABLE,\n    isDisabled\n})\n\nexport const requestIds = () => async (dispatch) => {\n    const response = await API.getIdsOfNewStories();\n    dispatch(setIds(response.data));\n}\nconst requestStoriesPattern = async (ids, dispatch, API, denominator) => {\n    dispatch(toggleDisable(true));\n    let i = 0;\n    let chunk = [];\n    await dispatch(requestIds());\n    while (i < 100) {\n        const response = await API.getItem(ids[i]);\n        chunk.push(response.data);\n        if (chunk.length % denominator === 0) {\n            dispatch(setStories(chunk));\n            denominator === 10 && dispatch(togglePreloader(false)); // лишний в случае с chunk\n            chunk = [];\n        }\n        i++\n    }\n    dispatch(toggleDisable(false));\n    dispatch(togglePreloaderBottom(false));\n}\nexport const requestStories = (ids) => async (dispatch) => {\n    dispatch(togglePreloader(true));\n    dispatch(togglePreloaderBottom(true));\n    requestStoriesPattern(ids, dispatch, API, 10);  ///разделить!!!\n}\nexport const reloadStories = (ids) => async (dispatch) => {\n    requestStoriesPattern(ids, dispatch, API, 100);  //разделить!!!\n}\n\n\n\nexport default mainReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"top\":\"News_top__1sbA7\",\"button\":\"News_button__1haJm\",\"disabled_button\":\"News_disabled_button__37m_m\",\"text__wrapper\":\"News_text__wrapper__3XLnS\",\"count\":\"News_count__2U7_A\",\"author\":\"News_author__36A-G\",\"data\":\"News_data__3r4H4\",\"title\":\"News_title__3zIRZ\",\"delleted\":\"News_delleted__2mk4s\"};","\nexport const getDateOfStory = (time) => {\n    const d = new Date(time * 1000);\n    return d.getDate() + '/' + d.getMonth() + '/' + d.getFullYear() + '  '\n        + (d.getHours().toString().length === 1\n            ? ('0' + d.getHours())\n            : d.getHours()) + ':'\n        + (d.getMinutes().toString().length === 1\n            ? ('0' + d.getMinutes())\n            : d.getMinutes())\n}\n\nexport const getDiffOfDate = (time) => {\n    const diff = +new Date() - time * 1000;\n    const d = new Date(diff);\n    const years = d.getFullYear() - 1970;\n    const month = d.getMonth();\n    const date = d.getDate() - 1;\n    const hours = d.getHours() - 3;\n    const minutes = d.getMinutes();\n    const seconds = d.getSeconds()\n    return (years && (years === 1 ? `${years} year ago` : `${years} years ago`))\n        || (month && (month === 1 ? `${month} month ago` : `${month} months ago`))\n        || (date && (date === 1 ? `${date} day ago` : `${date} days ago`))\n        || (hours && (hours === 1 ? `${hours} hour ago` : `${hours} hours ago`))\n        || (minutes && (minutes === 1 ? `${minutes} minute ago` : `${minutes} minutes ago`))\n        || (seconds && (seconds === 1 ? `${seconds} second ago` : `${seconds} seconds ago`))\n}","export default __webpack_public_path__ + \"static/media/preloader-bottom.7f686c03.gif\";","import React from 'react';\nimport c from './Main.module.css';\nimport { NavLink } from 'react-router-dom';\nimport { getDateOfStory } from '../../utils/getDate';\nimport preloaderBottom from '../../assets/preloader-bottom.gif';\n\nconst Main = ({ stories, reloadStories, idsOfNewStories, isDisabled, isPreloadedBottom }) => {\n    if (stories.length < 1) return null\n    return <div className={c.main}>\n        <button className={c.button + ' ' + (isDisabled && c.disabled_button)} disabled={isDisabled} onClick={() => reloadStories(idsOfNewStories)}>\n            {isDisabled ? 'The page is updating...' : 'Update'}\n        </button>\n        <div className={c.items}>\n            {stories.map(newsItem => (newsItem && !newsItem.deleted) ? <NavLink className={c.item} to={newsItem ? `/News/${newsItem.id}` : '/News'} key={newsItem.id}>\n                <div className={c.text}>\n                    <div className={c.title}>{newsItem.title}</div>\n                    <div className={c.bottom}>\n                        <div className={c.time}>{getDateOfStory(newsItem.time)}</div>\n                        <div className={c.author}>author: <span>{newsItem.by}</span></div>\n                    </div>\n                </div>\n                <div className={c.score}><span className={c.score__num}>{newsItem.score}</span><span className={c.score__text}>score</span></div>\n            </NavLink> : null)}\n\n        </div>\n        {isPreloadedBottom && <img className='preloader__bottom' src={preloaderBottom} alt='' />}\n    </div>\n}\n\nexport default Main;","export const getIds = (state) => {\n    return state.mainPage.idsOfNewStories;\n}\nexport const getStories = (state) => {\n    return state.mainPage.stories;\n}\nexport const getIsPreloaded = (state) => {\n    return state.mainPage.isPreloaded;\n}\nexport const getIsPreloadedBottom = (state) => {\n    return state.mainPage.isPreloadedBottom;\n}\nexport const getIsDisabled = (state) => {\n    return state.mainPage.isDisabled;\n}","export default __webpack_public_path__ + \"static/media/main-preloader.f14be704.gif\";","import React, { useEffect } from 'react';\nimport Main from './Main';\nimport { connect } from 'react-redux';\nimport { requestIds, requestStories, reloadStories } from '../../redux/main-reducer';\nimport { getIds, getStories, getIsPreloaded, getIsPreloadedBottom, getIsDisabled } from '../../redux/main-selectors';\nimport mainPreloader from '../../assets/main-preloader.gif';\n\nconst MainContainer = ({ requestIds, requestStories, reloadStories, idsOfNewStories,\n    stories, isPreloaded, isDisabled, isPreloadedBottom }) => {\n    useEffect(() => {\n        if (idsOfNewStories.length === 0) requestIds();\n        if (idsOfNewStories.length > 100 && stories.length === 0) requestStories(idsOfNewStories);\n        if (stories.length > 0) reloadStories(idsOfNewStories)\n    }, [requestIds, requestStories, idsOfNewStories.length])\n    useEffect(() => {\n        const interval = setTimeout(() => {\n            if (isDisabled) return null\n            if (idsOfNewStories.length > 100) {\n                reloadStories(idsOfNewStories);  \n            }\n        }, 60000)\n        return () => clearTimeout(interval);\n    }, [idsOfNewStories.length, isDisabled])\n\n    if (isPreloaded) return <img className='preloader' src={mainPreloader} alt='' />\n    return <Main stories={stories} reloadStories={reloadStories} idsOfNewStories={idsOfNewStories}\n        isDisabled={isDisabled} isPreloadedBottom={isPreloadedBottom} />\n}\n\nconst mapStateToProps = (state) => ({\n    idsOfNewStories: getIds(state),\n    stories: getStories(state),\n    isPreloaded: getIsPreloaded(state),\n    isDisabled: getIsDisabled(state),\n    isPreloadedBottom: getIsPreloadedBottom(state)\n})\n\nexport default connect(mapStateToProps, { requestIds, requestStories, reloadStories })(MainContainer);","export default __webpack_public_path__ + \"static/media/preloader-bottom-news.e8f649af.gif\";","import React from 'react';\nimport c from './Comments.module.css';\nimport { getDiffOfDate } from '../../../utils/getDate';\nimport preloaderBottom from '../../../assets/preloader-bottom-news.gif'\n\nconst Comments = ({ items, isPreloaded, isClicked, addChildrens, isPreloadedBottom}) => {\n\n    if (isPreloaded || !items[0] || !items[0].kids || !items[0].childrens) return null\n    return <div className={c.wrapper}>\n        <div className={c.title}><h1>Comments</h1></div>\n        <ActiveComment addChildrens={addChildrens} items={items} comments={items[0].childrens} isClicked={isClicked} />\n        {isPreloadedBottom && <img className='preloader__bottom-news' src={preloaderBottom} alt='' />}\n    </div>\n}\n\nconst ActiveComment = ({ comments, addChildrens, items, isClicked }) => {\n    let copyOfComments = comments.slice()\n    return copyOfComments.sort((a, b) => b.time - a.time).map(comment => (\n        <div className={c.comments} key={comment.id}>\n            <div className={c.top}><span className={c.author}>{comment.by}</span><span className={c.time}>{getDiffOfDate(comment.time)}</span></div>\n\n            <div className={(comment.kids && c.comment__items) + ' ' + (comment.parent === items[0].id ? c.comment__initial : c.low) + ' '\n                + (isClicked[comment.id] && comment.kids ? c.clicked : c.notClicked)}\n                disabled={true} onClick={() => { addChildrens(comment.id, items); }} key={comment.id}\n                dangerouslySetInnerHTML={{ __html: comment.text ? comment.text : 'COMMENT DELETED' }} />\n\n            {items.map(item => {\n                if (item.id === comment.id && item.childrens) return <ActiveComment\n                    addChildrens={addChildrens} items={items} comments={item.childrens} isClicked={isClicked} key={item.id} />\n            })}\n        </div>\n    ))\n}\n\n\n\nexport default Comments;","import React from 'react';\nimport c from './News.module.css';\nimport { NavLink } from 'react-router-dom';\nimport { getDateOfStory } from '../../utils/getDate';\nimport Comments from './Comments/Comments';\n\nconst News = ({ items, reloadPage, isPreloaded, isDisabled, idOfStory, isClicked, addChildrens, isPreloadedBottom }) => {\n    if (items.length < 1) return null\n    if (items[0] && items[0].title && items[0].time && items[0].by) {\n        return <div className={c.news}>\n            <div className={c.top}>\n                <div className={c.text__wrapper}>\n                    <button disabled={isDisabled} className={c.button + ' ' + (isDisabled && c.disabled_button)}\n                        onClick={async () => {\n                            await reloadPage(idOfStory, items);\n                            //setIsClicked({});\n                        }}>\n                        {isDisabled ? 'The page is updating...' : 'Update'}\n                    </button>\n                    <span className={c.link}><NavLink to='/HackerNewsAPI-Avito'>News list</NavLink></span>\n                    {items[0].url && <span className={c.link}>{items[0] && <a href={items[0].url}>Link to the news</a>}</span>}\n                    <span>Title: <span className={c.title}>{items[0].title}</span> </span>\n                    <span>Publication date: <span className={c.data}>{getDateOfStory(items[0].time)}</span></span>\n                    <span>Author: <span className={c.author}>{items[0].by}</span></span>\n                    <span>{isDisabled ? 'Count of comments is computing...' : <span>Count of comments: <span className={c.count}>{items.length - 1}</span></span>} </span>\n                </div>\n            </div>\n            <Comments items={items} isPreloaded={isPreloaded} addChildrens={addChildrens} isClicked={isClicked} isPreloadedBottom={isPreloadedBottom} />\n        </div>\n    } else return <div className={c.text__wrapper}>\n        <span className={c.link}><NavLink to='/HackerNewsAPI-Avito'>News list</NavLink></span>\n        <span className={c.delleted}>NEWS DELETED</span>\n    </div>\n}\n\nexport default News;","export const getItems = (state) => {\n    return state.newsPage.items;\n}\nexport const getIsPreloaded = (state) => {\n    return state.newsPage.isPreloaded;\n}\nexport const getIsPreloadedBottom = (state) => {\n    return state.newsPage.isPreloadedBottom;\n}\nexport const getIsDisabled = (state) => {\n    return state.newsPage.isDisabled;\n}\n","import React, { useEffect, useState } from 'react';\nimport News from './News';\nimport { setEmptyChildrens, requestItems, requestKids, reloadPage } from '../../redux/news-reducer';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { getItems } from '../../redux/news-selectors';\nimport { getIsPreloaded, getIsPreloadedBottom, getIsDisabled } from '../../redux/news-selectors';\nimport mainPreloader from '../../assets/main-preloader.gif';\nimport { compose } from 'redux';\n\nconst NewsContainer = ({ reloadPage, requestItems, setEmptyChildrens, items,\n    isPreloaded, isDisabled, requestKids, isPreloadedBottom, ...props }) => {\n        \n    const [isClicked, setIsClicked] = useState({});\n    const addChildrens = async (id, items) => {\n        const stateForClick = {};\n        if (isClicked[id]) {\n            setEmptyChildrens(id);\n            stateForClick[id] = false;\n            setIsClicked({ ...isClicked, ...stateForClick });\n        } else {\n            await requestKids(id, items);\n            stateForClick[id] = true;\n            setIsClicked({ ...isClicked, ...stateForClick });\n        }\n    }\n\n    useEffect(() => {\n        requestItems(props.match.params.id);\n    }, [])\n    useEffect(() => {\n        const interval = setTimeout(() => {\n            if(isDisabled) return null\n            reloadPage(props.match.params.id, items); \n           // setIsClicked({})  create my own useEffect\n        }, 60000)\n        return () => clearTimeout(interval)\n    }, [items.length, isDisabled, JSON.stringify(items)])\n    useEffect(() => {\n        items.length !== 0 && requestKids(props.match.params.id, items); //check it\n    }, [items.length, items.length && items[0].childrens && items[0].childrens.length, props.match.params.id])\n\n    return isPreloaded\n        ? <img className='preloader' src={mainPreloader} alt='' />\n        : <News items={items} isPreloaded={isPreloaded} reloadPage={reloadPage} idOfStory={props.match.params.id} \n        isDisabled={isDisabled} addChildrens={addChildrens} isClicked={isClicked} isPreloadedBottom={isPreloadedBottom} />\n}\n\n\nconst mapStateToProps = (state) => ({\n    items: getItems(state),\n    isPreloaded: getIsPreloaded(state),\n    isPreloadedBottom: getIsPreloadedBottom(state),\n    isDisabled: getIsDisabled(state)\n})\n\nexport default compose(\n    connect(mapStateToProps, { reloadPage, requestItems, setEmptyChildrens, requestKids }),\n    withRouter\n)(NewsContainer);\n","import './App.css';\nimport { Route } from 'react-router-dom';\nimport MainContainer from './components/Main/MainContainer';\nimport NewsContainer from './components/News/NewsContainer';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n        <Route path='/HackerNewsAPI-Avito' render={() => <MainContainer />}/>\n        <Route path='/News/:id?' render={() => <NewsContainer />}/>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import thunk from \"redux-thunk\";\n\nconst { combineReducers, createStore, applyMiddleware } = require(\"redux\");\nconst { default: mainReducer } = require(\"./main-reducer\");\nconst { default: newsReducer } = require(\"./news-reducer\");\n\n\nconst reducers = combineReducers({\n    mainPage: mainReducer,\n    newsPage: newsReducer\n})\n\nconst store = createStore(reducers, applyMiddleware(thunk));\nwindow.store = store;\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Main_item__3Ea2a\",\"bottom\":\"Main_bottom__3Zl6k\",\"text\":\"Main_text__2ghqa\",\"title\":\"Main_title__1S8vA\",\"author\":\"Main_author__1rnnt\",\"time\":\"Main_time__13HdR\",\"score\":\"Main_score__22PUV\",\"score__num\":\"Main_score__num__2wU0Q\",\"score__text\":\"Main_score__text__I9EEz\",\"button\":\"Main_button__2eW8g\",\"disabled_button\":\"Main_disabled_button__2IQF3\"};"],"sourceRoot":""}